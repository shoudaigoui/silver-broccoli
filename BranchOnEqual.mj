Branch_on_equal<n>(a:[n],b:[n],addr:[16],pc:[32]) = new_pc:[32] where
	if n = 0 then
		new_pc = Add<32>(Add<32>(pc, 0000000000000000 . addr),Extension_de_signe<28>(0100))
	else
		if a[0] = b[0] then
			Branch_on_equal<n-1>(a[1..],b[1..],addr,pc)
		else		
			new_pc = pc
		end if
	end if
end where

main(a:[32],b:[32]) = output:[32] where
	output = Branch_on_equal<32>(a,b)
end where
